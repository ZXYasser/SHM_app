# ูุธุฑุฉ ุนุงูุฉ ุนูู ูุดุฑูุน SHM (Service Help Mobile)

## ๐ฑ ูุตู ุงููุดุฑูุน

ูุธุงู ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุฎุฏูุงุช ุงููุชูููุฉ (ุจูุดุฑุ ุจุทุงุฑูุฉุ ุฎูู ููุฑุจุงุฆูุ ูุบูุฑูุง) ูุชููู ูู:
- **ุชุทุจูู ููุนููุงุก** (Flutter): ูุทูุจ ุงูุฎุฏูุงุช
- **ุชุทุจูู ููููููู** (Flutter): ูุงุณุชูุจุงู ูุชูููุฐ ุงูุทูุจุงุช
- **ููุญุฉ ุชุญูู ุฅุฏุงุฑูุฉ** (React): ูุฅุฏุงุฑุฉ ุงูุทูุจุงุช ูุงูููููู
- **ุฎุงุฏู Backend** (Node.js + Express): ููุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูููุทู

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
โโโโโโโโโโโโโโโโโโโ
โ  Flutter App    โ  (ุชุทุจูู ุงูุนููุงุก)
โ  (Customer)     โ
โโโโโโโโโโฌโโโโโโโโโ
         โ HTTP Requests
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  Backend Server โ  (Node.js + Express)
โ  (Railway)      โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ   Firebase      โ  (Firestore Database)
โ   (Cloud)       โ
โโโโโโโโโโโโโโโโโโโ
         โฒ
         โ HTTP Requests
โโโโโโโโโโดโโโโโโโโโ
โ  Flutter App    โ  (ุชุทุจูู ุงูููููู)
โ  (Technician)   โ
โโโโโโโโโโโโโโโโโโโ
         โฒ
         โ HTTP Requests
โโโโโโโโโโดโโโโโโโโโ
โ  Dashboard     โ  (ููุญุฉ ุงูุชุญูู)
โ  (React/Vercel)โ
โโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ูููู ุงููุดุฑูุน

```
SHM_app/
โโโ flutter_app/              # ุชุทุจูู ุงูุนููุงุก (Flutter)
โ   โโโ lib/
โ   โ   โโโ screens/         # ุดุงุดุงุช ุงูุชุทุจูู
โ   โ   โโโ services/        # ุฎุฏูุงุช API
โ   โ   โโโ utils/           # ุฃุฏูุงุช ูุซูุงุจุช
โ   โโโ android/             # ุฅุนุฏุงุฏุงุช Android
โ
โโโ SHM_technician_app/      # ุชุทุจูู ุงูููููู (Flutter)
โ   โโโ lib/
โ   โ   โโโ screens/         # ุดุงุดุงุช ุงูุชุทุจูู
โ   โ   โโโ services/        # ุฎุฏูุงุช API
โ   โ   โโโ utils/           # ุฃุฏูุงุช ูุซูุงุจุช
โ   โโโ android/             # ุฅุนุฏุงุฏุงุช Android
โ
โโโ SHM_dashboard/            # ููุญุฉ ุงูุชุญูู (React + Vite)
โ   โโโ src/
โ   โ   โโโ App.jsx          # ุงููููู ุงูุฑุฆูุณู
โ   โ   โโโ Orders.jsx       # ุตูุญุฉ ุงูุทูุจุงุช
โ   โ   โโโ Technicians.jsx  # ุตูุญุฉ ุงูููููู
โ   โ   โโโ OrderDetails.jsx # ุชูุงุตูู ุงูุทูุจ
โ   โ   โโโ config.js        # ุฅุนุฏุงุฏุงุช API
โ   โโโ package.json
โ
โโโ SHM_backend/              # ุงูุฎุงุฏู (Node.js + Express)
    โโโ server.js            # ุงูููู ุงูุฑุฆูุณู
    โโโ firebase-key.json     # ููุงุชูุญ Firebase (ูุญูู)
    โโโ package.json
```

---

## ๐ ุชุฏูู ุงูุนูู

### 1. ุทูุจ ุฎุฏูุฉ (ูู ุชุทุจูู ุงูุนููู)
```
ุงูุนููู โ ููุชุญ ุงูุชุทุจูู โ ูุฎุชุงุฑ ููุน ุงูุฎุฏูุฉ โ ูููุฃ ุงูุจูุงูุงุช โ ูุฑุณู ุงูุทูุจ
         โ
Backend โ ูุญูุธ ุงูุทูุจ ูู Firestore โ ูุฑุฌุน ID ุงูุทูุจ
         โ
ุงูุนููู โ ูุณุชูุจู ุชุฃููุฏ ุงูุทูุจ
```

### 2. ุชุนููู ููู (ูู Dashboard)
```
ุงููุฏูุฑ โ ููุชุญ Dashboard โ ูุฎุชุงุฑ ุทูุจ โ ูุนูู ููู
         โ
Backend โ ูุญุฏุซ ุงูุทูุจ ูู Firestore (technicianId + status)
         โ
ุชุทุจูู ุงูููู โ ูุณุชูุจู ุงูุทูุจ ุงูุฌุฏูุฏ (ุนูุฏ ุชุญุฏูุซ ุงููุงุฆูุฉ)
```

### 3. ุชูููุฐ ุงูุทูุจ (ูู ุชุทุจูู ุงูููู)
```
ุงูููู โ ููุชุญ ุงูุชุทุจูู โ ูุณุฌู ุฏุฎูู โ ูุฑู ุงูุทูุจุงุช ุงููุฎุตุตุฉ ูู
       โ
ุงูููู โ ูุฎุชุงุฑ ุทูุจ โ ูุบูุฑ ุงูุญุงูุฉ (ููุฏ ุงูุชูููุฐ โ ููุชูู)
       โ
Backend โ ูุญุฏุซ ุงูุญุงูุฉ ูู Firestore
       โ
Dashboard โ ูุนุฑุถ ุงูุญุงูุฉ ุงููุญุฏุซุฉ
```

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **Flutter** (Dart): ุชุทุจููุงุช ุงูุฌูุงู
- **React** (JavaScript): ููุญุฉ ุงูุชุญูู
- **Vite**: ุฃุฏุงุฉ ุจูุงุก React
- **Tailwind CSS**: ุชุตููู ููุญุฉ ุงูุชุญูู

### Backend
- **Node.js**: ุจูุฆุฉ ุงูุชุดุบูู
- **Express.js**: ุฅุทุงุฑ ุงูุนูู
- **Firebase Admin SDK**: ูููุตูู ุฅูู Firestore

### Database
- **Firestore**: ูุงุนุฏุฉ ุงูุจูุงูุงุช (NoSQL)

### Deployment
- **Railway**: ุงุณุชุถุงูุฉ Backend
- **Vercel**: ุงุณุชุถุงูุฉ Dashboard
- **GitHub**: ุฅุฏุงุฑุฉ ุงูููุฏ

---

## ๐ API Endpoints

### ุงูุทูุจุงุช (Requests)
- `POST /new-request` - ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
- `GET /requests` - ุฌูุจ ุฌููุน ุงูุทูุจุงุช
- `PATCH /requests/:id` - ุชุญุฏูุซ ุทูุจ (ุญุงูุฉ/ููู)
- `DELETE /requests/:id` - ุญุฐู ุทูุจ
- `DELETE /requests` - ุญุฐู ุฌููุน ุงูุทูุจุงุช

### ุงูููููู (Technicians)
- `POST /technicians` - ุฅุถุงูุฉ ููู
- `GET /technicians` - ุฌูุจ ุฌููุน ุงูููููู
- `POST /technician-login` - ุชุณุฌูู ุฏุฎูู ููู
- `DELETE /technicians/:id` - ุญุฐู ููู

### Health Check
- `GET /health` - ูุญุต ุญุงูุฉ ุงูุฎุงุฏู

---

## ๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช (Firestore)

### Collection: `requests`
```javascript
{
  id: "string",
  serviceType: "string",      // ููุน ุงูุฎุฏูุฉ
  carModel: "string",         // ููุน ุงูุณูุงุฑุฉ
  plateNumber: "string",     // ุฑูู ุงูููุญุฉ
  notes: "string",           // ูุตู ุงููุดููุฉ
  latitude: number,          // ุฎุท ุงูุนุฑุถ
  longitude: number,         // ุฎุท ุงูุทูู
  status: "string",          // new, in_progress, completed, cancelled
  technicianId: "string",    // ID ุงูููู ุงููุนูู
  createdAt: Timestamp,      // ุชุงุฑูุฎ ุงูุฅูุดุงุก
  updatedAt: Timestamp       // ุชุงุฑูุฎ ุงูุชุญุฏูุซ
}
```

### Collection: `technicians`
```javascript
{
  id: "string",
  name: "string",            // ุงุณู ุงูููู
  phone: "string",           // ุฑูู ุงูุฌูุงู
  password: "string",        // ูููุฉ ุงููุฑูุฑ
  status: "string",          // available, busy
  createdAt: Timestamp      // ุชุงุฑูุฎ ุงูุฅุถุงูุฉ
}
```

---

## ๐ ุงูุชุทููุฑ ูุงููุดุฑ

### ุงูุชุทููุฑ ุงููุญูู
```bash
# Backend
cd SHM_backend
npm install
npm start  # ูุนูู ุนูู http://localhost:3000

# Dashboard
cd SHM_dashboard
npm install
npm run dev  # ูุนูู ุนูู http://localhost:5173

# Flutter Apps
cd flutter_app
flutter run

cd SHM_technician_app
flutter run
```

### ุงููุดุฑ
- **Backend**: ูุชู ุงููุดุฑ ุชููุงุฆูุงู ุนูู Railway ุนูุฏ push ุฅูู GitHub
- **Dashboard**: ูุชู ุงููุดุฑ ุชููุงุฆูุงู ุนูู Vercel ุนูุฏ push ุฅูู GitHub
- **Flutter Apps**: ูุชู ุจูุงุก APK ูุฏููุงู ุจุงุณุชุฎุฏุงู `flutter build apk`

---

## ๐ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

### Backend (Railway)
- `FIREBASE_PROJECT_ID`
- `FIREBASE_PRIVATE_KEY`
- `FIREBASE_PRIVATE_KEY_ID`
- `FIREBASE_CLIENT_EMAIL`
- `FIREBASE_CLIENT_ID`
- `FIREBASE_CLIENT_X509_CERT_URL`
- `PORT` (ุงุฎุชูุงุฑู)

### Dashboard (Vercel)
- `VITE_API_URL` = `https://shmapp-production.up.railway.app`

---

## ๐ฑ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

### ุชุทุจูู ุงูุนููุงุก
- โ ุนุฑุถ ุฃููุงุน ุงูุฎุฏูุงุช (ุจูุดุฑุ ุจุทุงุฑูุฉุ ุฎูู ููุฑุจุงุฆูุ ุขุฎุฑ)
- โ ุฅุฑุณุงู ุทูุจ ุฎุฏูุฉ ูุน ุงููููุน ุงูุฌุบุฑุงูู
- โ ูุชุงุจุนุฉ ุญุงูุฉ ุงูุทูุจ

### ุชุทุจูู ุงูููููู
- โ ุชุณุฌูู ุงูุฏุฎูู
- โ ุนุฑุถ ุงูุทูุจุงุช ุงููุฎุตุตุฉ ูู
- โ ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ (ููุฏ ุงูุชูููุฐ โ ููุชูู)
- โ ุนุฑุถ ุชูุงุตูู ุงูุทูุจ ูุงููููุน

### ููุญุฉ ุงูุชุญูู
- โ ุนุฑุถ ุฌููุน ุงูุทูุจุงุช
- โ ุชุนููู ููู ููุทูุจ
- โ ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ
- โ ุฅุฏุงุฑุฉ ุงูููููู (ุฅุถุงูุฉ/ุญุฐู)
- โ ุญุฐู ุงูุทูุจุงุช (ูุงุญุฏ ุฃู ุฌููุน)
- โ ุฅุญุตุงุฆูุงุช ุงูุทูุจุงุช

---

## ๐ง ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ูุดููุฉ: ูุง ูุธูุฑ ุงุณู ุงูููู ูู ูุงุฆูุฉ ุงูุทูุจุงุช
**ุงูุญู**: ุชุฃูุฏ ูู:
1. ุฃู Backend ุนูู Railway ูุญุฏุซ
2. ุฃู `technicianId` ูุชู ุญูุธู ูู Firestore
3. ุฃู ูุงุฆูุฉ ุงูููููู ูุญููุฉ ูุจู ุนุฑุถ ุงูุทูุจุงุช

### ูุดููุฉ: Dashboard ูุง ูุชุตู ุจุงูู Backend
**ุงูุญู**: ุชุญูู ูู:
1. ุฃู `VITE_API_URL` ูุถุจูุท ุจุดูู ุตุญูุญ
2. ุฃู Backend ูุนูู ุนูู Railway
3. ุฃู CORS ููุนู ูู Backend

### ูุดููุฉ: ุชุทุจูู Flutter ูุง ูุชุตู ุจุงูู Backend
**ุงูุญู**: ุชุญูู ูู:
1. ุฃู `baseUrl` ูู `constants.dart` ุตุญูุญ
2. ุฃู ุงูุฅูุชุฑูุช ูุชุตู
3. ุฃู Backend ูุนูู

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Firebase Credentials**: ูุฌุจ ุฅุถุงูุฉ `firebase-key.json` ูุญููุงู ุฃู ุงุณุชุฎุฏุงู Environment Variables ุนูู Railway
2. **CORS**: Backend ูุณูุญ ุจุฌููุน ุงูููุดุฃ (`origin: '*'`) - ูุฌุจ ุชูููุฏู ูู ุงูุฅูุชุงุฌ
3. **Security**: ูููุงุช ูุฑูุฑ ุงูููููู ูุฎุฒูุฉ ููุต ุนุงุฏู - ูุฌุจ ุชุดููุฑูุง ูู ุงูุฅูุชุงุฌ
4. **Auto-refresh**: Dashboard ูุญุฏุซ ุงูุทูุจุงุช ูู 10 ุซูุงูู ุชููุงุฆูุงู

---

## ๐ ุงูุฑูุงุจุท

- **Backend**: https://shmapp-production.up.railway.app
- **Dashboard**: https://shm-app-alpha.vercel.app
- **Health Check**: https://shmapp-production.up.railway.app/health

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ุฑุงุฌุน:
- `PROJECT_ARCHITECTURE.md` - ุดุฑุญ ุชูุตููู ููุจููุฉ
- `TESTING_GUIDE.md` - ุฏููู ุงูุงุฎุชุจุงุฑ
- `DEPLOYMENT_GUIDE.md` - ุฏููู ุงููุดุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ**: ุฏูุณูุจุฑ 2024

