# ğŸ—ï¸ Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ - Ø´Ø±Ø­ Ø´Ø§Ù…Ù„

## ğŸ“‹ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙŠØªÙƒÙˆÙ† Ù…Ù† **4 Ù…ÙƒÙˆÙ†Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©** ØªØ¹Ù…Ù„ Ù…Ø¹Ø§Ù‹ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø·Ù„Ø¨Ø§Øª ÙˆØ±Ø´Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª                        â”‚
â”‚                    (SHM - Ø³Ù‡Ù…)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Flutter     â”‚   â”‚  Flutter      â”‚   â”‚  React       â”‚
â”‚  Customer    â”‚   â”‚  Technician   â”‚   â”‚  Dashboard   â”‚
â”‚  App         â”‚   â”‚  App          â”‚   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                   â”‚
       â”‚                  â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Node.js Backend    â”‚
              â”‚   (Express Server)   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   Firebase Firestore  â”‚
              â”‚   (Database)         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©

### 1ï¸âƒ£ **Flutter Customer App** (`flutter_app/`)
**Ø§Ù„ØºØ±Ø¶**: ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø©

**Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†**: Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø§Ù„Ø°ÙŠÙ† ÙŠØ­ØªØ§Ø¬ÙˆÙ† Ø®Ø¯Ù…Ø© Ø¨Ù†Ø´Ø± Ø£Ùˆ Ø¨Ø·Ø§Ø±ÙŠØ©)

**Ø§Ù„Ù…ÙŠØ²Ø§Øª**:
- Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
- Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ù†Ø´Ø± Ù…ØªÙ†Ù‚Ù„ / Ø¨Ø·Ø§Ø±ÙŠØ© Ù…ØªÙ†Ù‚Ù„Ø©)
- Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø©
- ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§ØªØµØ§Ù„**:
- ÙŠØ³ØªØ®Ø¯Ù… `http` package Ù„Ø¥Ø±Ø³Ø§Ù„ HTTP requests
- **Web**: ÙŠØªØµÙ„ Ø¨Ù€ `http://localhost:3000`
- **Mobile**: ÙŠØªØµÙ„ Ø¨Ù€ `http://10.202.97.38:3000`
- ÙŠØ±Ø³Ù„ POST request Ø¥Ù„Ù‰ `/new-request`

---

### 2ï¸âƒ£ **Flutter Technician App** (`SHM_technician_app/`)
**Ø§Ù„ØºØ±Ø¶**: ØªØ·Ø¨ÙŠÙ‚ Ù…Ù†ÙØµÙ„ Ù„Ù„ÙÙ†ÙŠÙŠÙ† Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª

**Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†**: Ø§Ù„ÙÙ†ÙŠÙˆÙ† (Ø§Ù„Ø°ÙŠÙ† ÙŠÙ†ÙØ°ÙˆÙ† Ø§Ù„Ø®Ø¯Ù…Ø§Øª)

**Ø§Ù„Ù…ÙŠØ²Ø§Øª**:
- ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„ÙÙ†ÙŠÙŠÙ†
- Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡Ù… + Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
- ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ (Ø¬Ø¯ÙŠØ¯ â†’ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ° â†’ Ù…ÙƒØªÙ…Ù„)
- Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
- Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨Ø§Øª

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§ØªØµØ§Ù„**:
- ÙŠØ³ØªØ®Ø¯Ù… `http` package
- **Web**: `http://localhost:3000`
- **Mobile**: `http://10.202.97.38:3000`
- Endpoints:
  - `POST /technician-login` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
  - `GET /requests` - Ø¬Ù„Ø¨ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  - `PATCH /requests/:id` - ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
  - `DELETE /requests/:id` - Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨

**Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ**:
- ÙŠØ³ØªØ®Ø¯Ù… `shared_preferences` Ù„Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
- ÙŠØ­ÙØ¸: ID, Name, Phone

---

### 3ï¸âƒ£ **React Dashboard** (`SHM_dashboard/`)
**Ø§Ù„ØºØ±Ø¶**: Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… ÙˆÙŠØ¨ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©

**Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†**: Ø§Ù„Ù…Ø¯ÙŠØ±ÙˆÙ†/Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©

**Ø§Ù„Ù…ÙŠØ²Ø§Øª**:
- Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Ø¥Ø¬Ù…Ø§Ù„ÙŠØŒ Ø¬Ø¯ÙŠØ¯ØŒ Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°ØŒ Ù…ÙƒØªÙ…Ù„)
- ÙÙ„ØªØ±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©
- ØªØ¹ÙŠÙŠÙ† ÙÙ†ÙŠ Ù„Ø·Ù„Ø¨ Ù…Ø¹ÙŠÙ†
- ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙ†ÙŠÙŠÙ† (Ø¥Ø¶Ø§ÙØ©ØŒ Ø¹Ø±Ø¶ØŒ Ø­Ø°Ù)
- Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨Ø§Øª

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§ØªØµØ§Ù„**:
- ÙŠØ³ØªØ®Ø¯Ù… `fetch` API (JavaScript)
- ÙŠØªØµÙ„ Ø¨Ù€ `http://localhost:3000`
- Endpoints:
  - `GET /requests` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  - `PATCH /requests/:id` - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ù„Ø¨ (Ø­Ø§Ù„Ø© + ÙÙ†ÙŠ)
  - `DELETE /requests/:id` - Ø­Ø°Ù Ø·Ù„Ø¨
  - `GET /technicians` - Ø¬Ù„Ø¨ Ø§Ù„ÙÙ†ÙŠÙŠÙ†
  - `POST /technicians` - Ø¥Ø¶Ø§ÙØ© ÙÙ†ÙŠ
  - `DELETE /technicians/:id` - Ø­Ø°Ù ÙÙ†ÙŠ

---

### 4ï¸âƒ£ **Node.js Backend** (`SHM_backend/`)
**Ø§Ù„ØºØ±Ø¶**: Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

**Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª**:
- Express.js (web framework)
- Firebase Admin SDK (Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Firestore)
- CORS (Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø¯Ø±)

**Ø§Ù„Ù…Ù‡Ø§Ù…**:
1. Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª
2. Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firebase Firestore
3. Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Firestore
4. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
5. Ø­Ø°Ù Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
6. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

**Endpoints Ø§Ù„Ù…ØªØ§Ø­Ø©**:

#### Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Requests):
- `POST /new-request` - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„
- `GET /requests` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
- `GET /requests/:id` - Ø¬Ù„Ø¨ Ø·Ù„Ø¨ Ù…Ø¹ÙŠÙ†
- `PATCH /requests/:id` - ØªØ­Ø¯ÙŠØ« Ø·Ù„Ø¨ (Ø­Ø§Ù„Ø©ØŒ ÙÙ†ÙŠ)
- `DELETE /requests/:id` - Ø­Ø°Ù Ø·Ù„Ø¨

#### Ø§Ù„ÙÙ†ÙŠÙŠÙ† (Technicians):
- `POST /technicians` - Ø¥Ø¶Ø§ÙØ© ÙÙ†ÙŠ Ø¬Ø¯ÙŠØ¯
- `GET /technicians` - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙ†ÙŠÙŠÙ†
- `POST /technician-login` - ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙÙ†ÙŠ
- `DELETE /technicians/:id` - Ø­Ø°Ù ÙÙ†ÙŠ

#### Ø£Ø®Ø±Ù‰:
- `GET /health` - ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø§Ø¯Ù…

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Firebase**:
- ÙŠØ³ØªØ®Ø¯Ù… `firebase-key.json` Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù‡ÙˆÙŠØ©
- ÙŠØªØµÙ„ Ø¨Ù€ Firebase Firestore Ù…Ø¨Ø§Ø´Ø±Ø©
- ÙŠØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Collections:
  - `requests` - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  - `technicians` - Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙÙ†ÙŠÙŠÙ†

---

## ğŸ”„ ØªØ¯ÙÙ‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Flow)

### ğŸ“¤ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ±Ø³Ù„ Ø·Ù„Ø¨

```
1. Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠÙØªØ­ Flutter Customer App
   â†“
2. ÙŠØ®ØªØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© (Ø¨Ù†Ø´Ø±/Ø¨Ø·Ø§Ø±ÙŠØ©)
   â†“
3. ÙŠÙ…Ù„Ø£ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø©
   â†“
4. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­Ø¯Ø¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (GPS)
   â†“
5. ÙŠØ¶ØºØ· "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨"
   â†“
6. ApiService.submitRequest()
   â†’ POST http://10.202.97.38:3000/new-request
   â†’ Body: {serviceType, carModel, plateNumber, notes, latitude, longitude}
   â†“
7. Backend ÙŠØ³ØªÙ‚Ø¨Ù„ Ø§Ù„Ø·Ù„Ø¨
   â†’ ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
   â†’ ÙŠØ­ÙØ¸ ÙÙŠ Firestore collection "requests"
   â†’ status: "new"
   â†’ technicianId: null (ØºÙŠØ± Ù…Ø¹ÙŠÙ†)
   â†“
8. Backend ÙŠØ±Ø¯ Ø¨Ù€ JSON:
   {success: true, message: "ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­", id: "..."}
   â†“
9. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
```

---

### ğŸ‘¨â€ğŸ”§ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ø§Ù„ÙÙ†ÙŠ ÙŠØ³Ø¬Ù„ Ø¯Ø®ÙˆÙ„

```
1. Ø§Ù„ÙÙ†ÙŠ ÙŠÙØªØ­ Flutter Technician App
   â†“
2. ÙŠØ¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
   â†“
3. ApiService.technicianLogin()
   â†’ POST http://10.202.97.38:3000/technician-login
   â†’ Body: {phone: "...", password: "..."}
   â†“
4. Backend ÙŠØ¨Ø­Ø« ÙÙŠ Firestore collection "technicians"
   â†’ ÙŠØªØ­Ù‚Ù‚ Ù…Ù† phone Ùˆ password
   â†“
5. Ø¥Ø°Ø§ ØµØ­ÙŠØ­:
   â†’ ÙŠØ±Ø¯ Ø¨Ù€ {success: true, id: "...", name: "..."}
   â†“
6. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ (shared_preferences)
   â†“
7. ÙŠÙ†ØªÙ‚Ù„ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```

---

### ğŸ“‹ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: Ø§Ù„ÙÙ†ÙŠ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª

```
1. Ø§Ù„ÙÙ†ÙŠ ÙŠÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
   â†“
2. ApiService.getRequests()
   â†’ GET http://10.202.97.38:3000/requests
   â†“
3. Backend ÙŠØ¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Firestore
   â†“
4. ÙŠØ±Ø¯ Ø¨Ù€ Array Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª
   â†“
5. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠÙÙ„ØªØ± Ø§Ù„Ø·Ù„Ø¨Ø§Øª:
   - ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙÙ†ÙŠ (technicianId == currentTechnicianId)
   - ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ØºÙŠØ± Ø§Ù„Ù…Ø¹ÙŠÙ†Ø© (technicianId == null && status == "new")
   â†“
6. ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ù‚Ø§Ø¦Ù…Ø©
```

---

### ğŸ¯ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 4: Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠØ¹ÙŠÙ† ÙÙ†ÙŠ Ù„Ø·Ù„Ø¨

```
1. Ø§Ù„Ù…Ø¯ÙŠØ± ÙŠÙØªØ­ Dashboard
   â†“
2. ÙŠÙØªØ­ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ù…Ø¹ÙŠÙ†
   â†“
3. ÙŠØ®ØªØ§Ø± ÙÙ†ÙŠ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©
   â†“
4. ÙŠØ¶ØºØ· "ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ†ÙŠ Ù„Ù„Ø·Ù„Ø¨"
   â†“
5. fetch() â†’ PATCH http://localhost:3000/requests/:id
   â†’ Body: {technicianId: "...", status: "in_progress"}
   â†“
6. Backend ÙŠØ­Ø¯Ø« Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Firestore:
   â†’ technicianId: "..."
   â†’ status: "in_progress"
   â†“
7. ÙŠØ±Ø¯ Ø¨Ù€ {success: true, message: "ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙÙ†ÙŠ"}
   â†“
8. Dashboard ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
   â†“
9. Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ø¢Ù† ÙŠØ±Ù‰ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ù‡ (Ù„Ø£Ù† technicianId == ÙÙ†ÙŠ)
```

---

### âœ… Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 5: Ø§Ù„ÙÙ†ÙŠ ÙŠÙƒÙ…Ù„ Ø§Ù„Ø·Ù„Ø¨

```
1. Ø§Ù„ÙÙ†ÙŠ ÙŠÙØªØ­ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨
   â†“
2. ÙŠØ¶ØºØ· "Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨"
   â†“
3. ApiService.updateRequestStatus()
   â†’ PATCH http://10.202.97.38:3000/requests/:id
   â†’ Body: {status: "completed"}
   â†“
4. Backend ÙŠØ­Ø¯Ø« Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Firestore:
   â†’ status: "completed"
   â†“
5. ÙŠØ±Ø¯ Ø¨Ù€ {success: true, message: "ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©"}
   â†“
6. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­
   â†“
7. Ø§Ù„Ø·Ù„Ø¨ ÙŠØ®ØªÙÙŠ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© "Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ°"
   â†“
8. ÙŠØ¸Ù‡Ø± ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© "Ù…ÙƒØªÙ…Ù„Ø©"
```

---

## ğŸ”Œ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§ØªØµØ§Ù„

### ğŸ“± Flutter Apps (Customer & Technician)

**Package Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: `http` (Dart/Flutter)

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø¹Ù…Ù„**:
```dart
// Ù…Ø«Ø§Ù„ Ù…Ù† flutter_app/lib/services/api_service.dart
final response = await http.post(
  Uri.parse('${AppConstants.baseUrl}/new-request'),
  headers: {'Content-Type': 'application/json'},
  body: jsonEncode(request.toJson()),
);
```

**URL Configuration**:
- **Web**: `http://localhost:3000` (Ù„Ø£Ù† Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ IP Ù…Ø­Ù„ÙŠ)
- **Mobile**: `http://10.202.97.38:3000` (IP Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ø­Ù„ÙŠØ©)

**Ù…Ù„Ø§Ø­Ø¸Ø©**: ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± IP ÙÙŠ `lib/utils/constants.dart`

---

### ğŸŒ React Dashboard

**API Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…**: `fetch` (JavaScript built-in)

**ÙƒÙŠÙÙŠØ© Ø§Ù„Ø¹Ù…Ù„**:
```javascript
// Ù…Ø«Ø§Ù„ Ù…Ù† SHM_dashboard/src/Orders.jsx
const res = await fetch('http://localhost:3000/requests', {
  method: 'GET',
  headers: { 'Content-Type': 'application/json' },
});
const data = await res.json();
```

**URL**: Ø¯Ø§Ø¦Ù…Ø§Ù‹ `http://localhost:3000` (Ù„Ø£Ù† Dashboard ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­)

---

### ğŸ–¥ï¸ Node.js Backend

**Port**: `3000`
**Host**: `0.0.0.0` (ÙŠØ³ØªÙ…Ø¹ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù€ interfaces)

**CORS Configuration**:
```javascript
app.use(cors({
  origin: '*', // ÙŠØ³Ù…Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø¯Ø± (Ù„Ù„ØªØ·ÙˆÙŠØ±)
  methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'],
}));
```

**Firebase Connection**:
- ÙŠØ³ØªØ®Ø¯Ù… `firebase-key.json` Ù„Ù„ØªØ­Ù‚Ù‚
- ÙŠØªØµÙ„ Ø¨Ù€ Firestore Ù…Ø¨Ø§Ø´Ø±Ø©
- Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ internet connection Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Firestore (ÙŠØ³ØªØ®Ø¯Ù… Firebase Admin SDK)

---

## ğŸ’¾ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Firebase Firestore)

**Structure**:

### Collection: `requests`
```javascript
{
  id: "auto-generated",
  serviceType: "Ø¨Ù†Ø´Ø± Ù…ØªÙ†Ù‚Ù„" | "Ø¨Ø·Ø§Ø±ÙŠØ© Ù…ØªÙ†Ù‚Ù„Ø©",
  carModel: "ØªÙˆÙŠÙˆØªØ§ ÙƒØ§Ù…Ø±ÙŠ",
  plateNumber: "12345",
  notes: "ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©",
  latitude: 24.7136,
  longitude: 46.6753,
  status: "new" | "in_progress" | "completed" | "cancelled",
  technicianId: "..." | null,  // ID Ø§Ù„ÙÙ†ÙŠ Ø§Ù„Ù…Ø¹ÙŠÙ†
  createdAt: Timestamp,
  updatedAt: Timestamp
}
```

### Collection: `technicians`
```javascript
{
  id: "auto-generated",
  name: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
  phone: "0501234567",
  password: "hashed_password",
  status: "available" | "unavailable",
  createdAt: Timestamp
}
```

---

## ğŸš€ ÙƒÙŠÙÙŠØ© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### 1. ØªØ´ØºÙŠÙ„ Backend
```bash
cd SHM_backend
npm install  # Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·
node server.js
```

**ÙŠØ¬Ø¨ Ø£Ù† ØªØ±Ù‰**:
```
ğŸ”¥ SHM Backend + Firebase Running
   Local: http://localhost:3000
   Network: http://10.202.97.38:3000
âœ… Ready to receive requests!
```

### 2. ØªØ´ØºÙŠÙ„ Dashboard
```bash
cd SHM_dashboard
npm install  # Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·
npm run dev
```

**ÙŠÙØªØ­ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹**: `http://localhost:5174`

### 3. ØªØ´ØºÙŠÙ„ Flutter Customer App
```bash
cd flutter_app
flutter pub get  # Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·
flutter run
```

### 4. ØªØ´ØºÙŠÙ„ Flutter Technician App
```bash
cd SHM_technician_app
flutter pub get  # Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·
flutter run
```

---

## ğŸ” Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª

### Ø­Ø§Ù„ÙŠØ§Ù‹ (Development):
- **CORS**: Ù…ÙØªÙˆØ­ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø¯Ø± (`origin: '*'`)
- **Authentication**: Ø¨Ø³ÙŠØ· (username/password Ù„Ù„Ù€ DashboardØŒ phone/password Ù„Ù„ÙÙ†ÙŠÙŠÙ†)
- **Firebase**: Ù…Ø­Ù…ÙŠ Ø¨Ù€ `firebase-key.json` (ÙŠØ¬Ø¨ Ø¹Ø¯Ù… Ù…Ø´Ø§Ø±ÙƒØªÙ‡)

### Ù„Ù„Ø¥Ù†ØªØ§Ø¬ (Production):
- ØªÙ‚ÙŠÙŠØ¯ CORS Ù„Ù…ØµØ§Ø¯Ø± Ù…Ø­Ø¯Ø¯Ø©
- Ø¥Ø¶Ø§ÙØ© JWT tokens Ù„Ù„Ù€ authentication
- Ø§Ø³ØªØ®Ø¯Ø§Ù… environment variables Ù„Ù„Ù€ Firebase credentials
- Ø¥Ø¶Ø§ÙØ© rate limiting
- Ø§Ø³ØªØ®Ø¯Ø§Ù… HTTPS

---

## ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª

| Ø§Ù„Ù…ÙƒÙˆÙ† | ÙŠØªØµÙ„ Ø¨Ù€ | Ø§Ù„Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ | Port |
|--------|---------|------------|------|
| Flutter Customer App | Backend | HTTP | 3000 |
| Flutter Technician App | Backend | HTTP | 3000 |
| React Dashboard | Backend | HTTP | 3000 |
| Backend | Firebase Firestore | HTTPS | 443 |

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ **Architecture Ø¨Ø³ÙŠØ·Ø© ÙˆÙˆØ§Ø¶Ø­Ø©**:

1. **3 ØªØ·Ø¨ÙŠÙ‚Ø§Øª Frontend** (Flutter Customer, Flutter Technician, React Dashboard)
2. **1 Backend Server** (Node.js/Express)
3. **1 Database** (Firebase Firestore)

Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªØªØµÙ„ Ø¨Ù€ **Backend Server** Ø§Ù„Ø°ÙŠ Ø¨Ø¯ÙˆØ±Ù‡ ÙŠØªØµÙ„ Ø¨Ù€ **Firebase Firestore** Ù„Ø­ÙØ¸ ÙˆØ¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

**Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø§ØªØµØ§Ù„ Ù…Ø¨Ø§Ø´Ø±** Ø¨ÙŠÙ† Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª - ÙƒÙ„ Ø´ÙŠØ¡ ÙŠÙ…Ø± Ø¹Ø¨Ø± Backend Server.

